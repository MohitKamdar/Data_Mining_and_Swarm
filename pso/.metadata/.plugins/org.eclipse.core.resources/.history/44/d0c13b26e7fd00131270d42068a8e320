package dataset;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Vector;

public class Data_reader_from_file {

	/**
	 * @param args
	 */
	Vector < Vector<Float> > dataset ;
	String filename ;
	String delimiter ; 
	public Data_reader_from_file(String filename, String delimiter) {
		dataset =  new Vector<Vector<Float> >();
		this.filename = filename ; 
		this.delimiter = delimiter ; 
		read_file_complete();
	}
	
	public void read_file_complete()
	{
		BufferedReader buffer_reader = null;
		try {
			buffer_reader = new BufferedReader(new FileReader(filename));
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			System.out.println("Error : File Not Found");
		}
		
		String line_by_line_read;
		
		try {
			while ((line_by_line_read = buffer_reader.readLine()) != null) {
			   // process the line.
				add_data_from_line(line_by_line_read); 
			}
			buffer_reader.close();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			System.out.println("Error : IO Exception");
		}
		
	}
	
	
	public void add_data_from_line(String line_of_data)
	{
		String[] tokens = line_of_data.split(delimiter); 
		Vector<Float> data_element = new Vector<Float>();
		
		/*
		 * Take care when parse because other things like string
		 * throw exception while parse if they are not numbers. 
		 */
		for (String each_value : tokens)
		{
			float value_in_float = Float.parseFloat(each_value);
			data_element.add(value_in_float);
		}
		dataset.add(data_element);
	}
	
	Vector < Vector<Float> > get_dataset()
	{
		return dataset ; 
	}
	
	int get_dimension_of_data_set()
	{
		int dimension_of_data_size = dataset.get(0).size() ;  // considering all element size is same
		return dimension_of_data_size ; 
	}
	
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//test
		/*
		Data_reader_from_file dr = new Data_reader_from_file("abc", ",");
		for (Vector<Float>ss : dr.get_dataset())
		{
			for (float a : ss)
			{
				System.out.println(a);
			}
		}
		*/
	}

}
