package dataset;

import java.io.File;
   import weka.core.Attribute;
   import weka.core.FastVector;
   import weka.core.Instance;
   import weka.core.Instances;
   import weka.core.converters.ArffSaver;
   import weka.filters.Filter;
   import weka.filters.unsupervised.instance.NonSparseToSparse;

   public class test {
    public static void main(String[] args) throws Exception 
   {
       FastVector attributes;
       Instances dataSet;
       double[] values;
     attributes = new FastVector();
        
      attributes.addElement(new Attribute("att1")); 
       attributes.addElement(new Attribute("att2")); 
      attributes.addElement(new Attribute("att3")); 
       attributes.addElement(new Attribute("att4"));
      
       dataSet = new Instances("ESDN", attributes, 0);
        
       values = new double[dataSet.numAttributes()]; 
       values[0] = 3;
       values[1] =7;
       values[3] = 1;
       dataSet.add(new Instance(1.0, values));
       
       values = new double[dataSet.numAttributes()]; 
       values[2] = 2;
       values[3] = 8;
       dataSet.add(new Instance(1.0, values));
       
       NonSparseToSparse nonSparseToSparseInstance = new NonSparseToSparse(); 
       nonSparseToSparseInstance.setInputFormat(dataSet); 
       Instances sparseDataset = Filter.useFilter(dataSet, nonSparseToSparseInstance);
        
       System.out.println(sparseDataset);
       
       ArffSaver arffSaverInstance = new ArffSaver(); 
      arffSaverInstance.setInstances(sparseDataset); 
       arffSaverInstance.setFile(new File("ESDN.arff")); 
       arffSaverInstance.writeBatch();
    }
   }
